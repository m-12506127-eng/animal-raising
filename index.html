<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>Refayeâ€™s å°å°æ¸¸æˆåˆé›† ğŸ®</title>
  <style>
    /* ----------------- å…¨å±€ ----------------- */
    body {
      margin: 0;
      min-height: 100vh;
      background: linear-gradient(135deg, #fff1f6, #f5f7fa);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 50px;
      overflow-x: hidden;
    }

    .gameCard {
      background: #ffffffdd;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      padding: 20px 30px;
      margin: 30px 0;
      width: 280px;
      text-align: center;
      transition: transform 0.2s;
      position: relative;
    }
    .gameCard:hover {
      transform: translateY(-5px);
    }

    /* ----------------- ä¹±è·³æŒ‰é’® ----------------- */
    #startBtn {
      padding: 16px 32px;
      font-size: 18px;
      border: none;
      border-radius: 999px;
      background: linear-gradient(135deg, #ffd6e7, #ffffff);
      box-shadow: 0 10px 25px rgba(0,0,0,0.15);
      cursor: pointer;
      user-select: none;
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      transition: all 0.2s;
    }

    #hint {
      margin-top: 20px;
      font-size: 14px;
      color: #777;
    }

    @keyframes tiredShake {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      25% { transform: translate(-50%, -50%) rotate(1deg); }
      50% { transform: translate(-50%, -50%) rotate(0deg); }
      75% { transform: translate(-50%, -50%) rotate(-1deg); }
      100% { transform: translate(-50%, -50%) rotate(0deg); }
    }
    .tired {
      animation: tiredShake 0.4s infinite;
    }

    .jump {
      animation: jumpAnim 0.2s;
    }
    @keyframes jumpAnim {
      0% { transform: translate(-50%, -50%) scale(1); }
      50% { transform: translate(-50%, -50%) scale(1.2); }
      100% { transform: translate(-50%, -50%) scale(1); }
    }

    /* ----------------- èŒèšªå…»æˆ ----------------- */
    #tadpoleGame {
      display: none; /* åˆå§‹éšè— */
      flex-direction: column;
      align-items: center;
    }

    #tadpole {
      width: 100px;
      margin-bottom: 10px;
      transition: transform 0.3s;
    }

    #feedBtn {
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 999px;
      background: linear-gradient(135deg, #a0e7e5, #b4f8c8);
      border: none;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      margin-bottom: 10px;
    }

    #tadpoleHint {
      font-size: 14px;
      color: #555;
    }

    .grow {
      transform: scale(1.3);
    }

    /* ----------------- çŒ´å­å…”å­éšæœºå›¾ç‰‡ ----------------- */
    #monkeyRabbitGame {
      display: none; /* åˆå§‹éšè— */
      flex-direction: column;
      align-items: center;
    }

    .iconRow {
      display: flex;
      justify-content: center;
      margin-bottom: 10px;
    }

    .iconBtn {
      width: 60px;
      cursor: pointer;
      margin: 0 15px;
      transition: transform 0.2s;
    }
    .iconBtn:hover {
      transform: scale(1.1);
    }

    .flash {
      animation: flashAnim 0.3s;
    }
    @keyframes flashAnim {
      0% { opacity: 0; transform: scale(0.5); }
      50% { opacity: 1; transform: scale(1.2); }
      100% { opacity: 1; transform: scale(1); }
    }

    #result img {
      width: 100px;
      margin-top: 5px;
    }
  </style>
</head>

<body>

  <!-- ========== ä¹±è·³æŒ‰é’® ========== -->
  <div class="gameCard" style="height: 120px;">
    <button id="startBtn">å¼€å§‹ ğŸ®</button>
    <p id="hint">æŠ“åˆ°æˆ‘ 0 / 10</p>
  </div>

  <!-- ========== èŒèšªå…»æˆ ========== -->
  <div class="gameCard" id="tadpoleGame">
    <img id="tadpole" src="tadpole1.jpeg" alt="èŒèšª">
    <button id="feedBtn">å–‚é±¼ ğŸŸ</button>
    <p id="tadpoleHint">æˆé•¿é˜¶æ®µï¼š1 / 3</p>
  </div>

  <!-- ========== çŒ´å­å…”å­éšæœºå›¾ç‰‡ ========== -->
  <div class="gameCard" id="monkeyRabbitGame">
    <div class="iconRow">
      <img id="monkey" class="iconBtn" src="monkey.jpeg" alt="çŒ´å­">
      <img id="rabbit" class="iconBtn" src="rabbit.jpeg" alt="å…”å­">
    </div>
    <div id="result">
      <img id="resultImg" src="" alt="">
    </div>
  </div>

  <!-- ========== JSé€»è¾‘ ========== -->
  <script>
    // --------- ä¹±è·³æŒ‰é’® ---------
    let chaseCount = 0;
    const startBtn = document.getElementById("startBtn");
    const hint = document.getElementById("hint");
    const tadpoleGame = document.getElementById("tadpoleGame");
    const monkeyRabbitGame = document.getElementById("monkeyRabbitGame");

    startBtn.addEventListener("click", () => {
      startBtn.classList.add("jump");
      setTimeout(()=>startBtn.classList.remove("jump"),200);

      chaseCount++;
      if(chaseCount === 10){
        hint.innerText = "å¥½å•¦å¥½å•¦ï¼Œå¼€å§‹æ¸¸æˆå§ï¼ğŸ˜¼";
        startBtn.classList.add("tired");
        // æ˜¾ç¤ºåç»­å°æ¸¸æˆ
        tadpoleGame.style.display = "flex";
        monkeyRabbitGame.style.display = "flex";
        // éšè—ä¹±è·³æŒ‰é’®
        startBtn.style.display = "none";
        return;
      }

      const x = 30 + Math.random() * 40;
      const y = 30 + Math.random() * 40;
      startBtn.style.left = x + "%";
      startBtn.style.top = y + "%";
      hint.innerText = `æŠ“åˆ°æˆ‘ ${chaseCount} / 10`;
    });

    // --------- èŒèšªå…»æˆ ---------
    let stage = 1;
    const maxStage = 3;
    const tadpole = document.getElementById("tadpole");
    const feedBtn = document.getElementById("feedBtn");
    const tadpoleHint = document.getElementById("tadpoleHint");

    feedBtn.addEventListener("click", () => {
      if(stage < maxStage){
        stage++;
        if(stage===2) tadpole.src="tadpole2.jpeg";
        if(stage===3) tadpole.src="frog.jpeg";
        tadpoleHint.innerText = `æˆé•¿é˜¶æ®µï¼š${stage} / ${maxStage}`;
        tadpole.classList.add("grow");
        setTimeout(()=>tadpole.classList.remove("grow"),300);
      } else {
        tadpoleHint.innerText = "é’è›™å·²ç»é•¿å¤§å•¦ï¼ğŸ¸";
      }
    });

    // --------- çŒ´å­å…”å­éšæœºå›¾ç‰‡ ---------
    const monkey = document.getElementById("monkey");
    const rabbit = document.getElementById("rabbit");
    const resultImg = document.getElementById("resultImg");

    function tryCombine(){
      const options = ["A.jpeg", "B.jpeg"];
      const choice = options[Math.floor(Math.random() * options.length)];
      resultImg.src = choice;
      resultImg.classList.add("flash");
      setTimeout(()=>resultImg.classList.remove("flash"),300);
    }

    monkey.addEventListener("click", tryCombine);
    rabbit.addEventListener("click", tryCombine);
  </script>

</body>
</html>